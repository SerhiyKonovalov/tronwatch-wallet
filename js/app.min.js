(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);class t{constructor(){this.init()}init(){this.setupNavigation(),this.setupScrollEffects(),this.setupAnimations(),this.setupFormValidation(),this.initializePageSpecificFeatures()}initializePageSpecificFeatures(){switch(window.location.pathname.split("/").pop()||"index.html"){case"help-center.html":this.initializeHelpCenter();break;case"documentation.html":this.initializeDocumentation()}}setupNavigation(){const e=document.getElementById("navToggle"),t=document.getElementById("navMenu");if(e&&t){e.addEventListener("click",(()=>{t.classList.toggle("nav__menu--active"),this.toggleNavIcon(e)}));t.querySelectorAll(".nav__link").forEach((n=>{n.addEventListener("click",(()=>{t.classList.remove("nav__menu--active"),this.resetNavIcon(e)}))})),document.addEventListener("click",(n=>{e.contains(n.target)||t.contains(n.target)||(t.classList.remove("nav__menu--active"),this.resetNavIcon(e))}))}this.setActiveNavLink()}toggleNavIcon(e){const t=e.querySelectorAll("span");e.classList.contains("nav__toggle--active")?(t[0].style.transform="translateY(0) rotate(0)",t[1].style.opacity="1",t[2].style.transform="translateY(0) rotate(0)",e.classList.remove("nav__toggle--active")):(t[0].style.transform="translateY(6px) rotate(45deg)",t[1].style.opacity="0",t[2].style.transform="translateY(-6px) rotate(-45deg)",e.classList.add("nav__toggle--active"))}resetNavIcon(e){e.querySelectorAll("span").forEach((e=>{e.style.transform="translateY(0) rotate(0)",e.style.opacity="1"})),e.classList.remove("nav__toggle--active")}setActiveNavLink(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav__link").forEach((t=>{t.classList.remove("nav__link--active");const n=t.getAttribute("href");(n===e||""===e&&"index.html"===n)&&t.classList.add("nav__link--active")}))}setupScrollEffects(){const e=document.querySelector(".header");let t=0;window.addEventListener("scroll",(()=>{const n=window.pageYOffset||document.documentElement.scrollTop;e.style.backgroundColor=n>50?"rgba(10, 10, 10, 0.98)":"rgba(10, 10, 10, 0.95)",t=n}));document.querySelectorAll('a[href^="#"]').forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const o=t.getAttribute("href").substring(1),r=document.getElementById(o);if(r){const t=e.offsetHeight,n=r.offsetTop-t-20;window.scrollTo({top:n,behavior:"smooth"})}}))}))}setupAnimations(){document.querySelectorAll(".btn").forEach((e=>{e.addEventListener("mouseenter",(t=>{if(e.classList.contains("btn--primary")){const t=document.createElement("span");t.className="ripple",e.appendChild(t),setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),600)}}))}))}setupFormValidation(){document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(t=>{this.validateForm(e)||t.preventDefault()}));e.querySelectorAll("input, textarea, select").forEach((e=>{e.addEventListener("blur",(()=>{this.validateField(e)})),e.addEventListener("input",(()=>{this.clearFieldError(e)}))}))}))}validateForm(e){let t=!0;return e.querySelectorAll("input[required], textarea[required], select[required]").forEach((e=>{this.validateField(e)||(t=!1)})),t}validateField(e){const t=e.value.trim();let n=!0,o="";return this.clearFieldError(e),e.hasAttribute("required")&&!t&&(o="This field is required",n=!1),"email"===e.type&&t&&!this.isValidEmail(t)&&(o="Please enter a valid email address",n=!1),n||this.showFieldError(e,o),n}showFieldError(e,t){e.classList.add("form__input--error");const n=document.createElement("div");n.className="form__error",n.textContent=t,e.parentNode.appendChild(n)}clearFieldError(e){e.classList.remove("form__input--error");const t=e.parentNode.querySelector(".form__error");t&&t.remove()}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}initializeHelpCenter(){this.setupFAQFunctionality(),this.setupContactForm(),this.setupSearchFunctionality()}setupFAQFunctionality(){const e=document.querySelectorAll(".faq__category"),t=document.querySelectorAll(".faq__section");e.forEach((n=>{n.addEventListener("click",(()=>{const o=n.getAttribute("data-category");e.forEach((e=>e.classList.remove("faq__category--active"))),t.forEach((e=>e.classList.remove("faq__section--active"))),n.classList.add("faq__category--active");const r=document.getElementById(o);r&&r.classList.add("faq__section--active"),this.closeAllFAQItems()}))})),this.setupFAQItems()}setupFAQItems(){document.querySelectorAll(".faq-item").forEach((e=>{const t=e.querySelector(".faq-item__question"),n=e.querySelector(".faq-item__answer"),o=()=>{const t=e.classList.contains("faq-item--active"),o=e.closest(".faq__section");if(o){o.querySelectorAll(".faq-item").forEach((t=>{if(t!==e){t.classList.remove("faq-item--active");const e=t.querySelector(".faq-item__answer");e&&(e.style.maxHeight="0",e.style.padding="0 var(--spacing-lg)")}}))}t?(e.classList.remove("faq-item--active"),n&&(n.style.maxHeight="0",n.style.paddingTop="0",n.style.paddingBottom="0",n.style.paddingLeft="var(--spacing-lg)",n.style.paddingRight="var(--spacing-lg)")):(e.classList.add("faq-item--active"),n&&(n.style.maxHeight=n.scrollHeight+40+"px",n.style.paddingTop="var(--spacing-lg)",n.style.paddingBottom="var(--spacing-lg)",n.style.paddingLeft="var(--spacing-lg)",n.style.paddingRight="var(--spacing-lg)"))};t&&t.addEventListener("click",o),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o())}))}))}closeAllFAQItems(){document.querySelectorAll(".faq-item").forEach((e=>{e.classList.remove("faq-item--active");const t=e.querySelector(".faq-item__answer");t&&(t.style.maxHeight="0",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.paddingLeft="var(--spacing-lg)",t.style.paddingRight="var(--spacing-lg)")}))}setupSearchFunctionality(){const e=document.querySelector(".search-box__input"),t=document.querySelector(".search-box__button");e&&(e.addEventListener("input",this.debounce((e=>{this.searchFAQ(e.target.value.toLowerCase())}),300)),e.addEventListener("keypress",(t=>{"Enter"===t.key&&(t.preventDefault(),this.searchFAQ(e.value.toLowerCase()))}))),t&&t.addEventListener("click",(()=>{this.searchFAQ(e.value.toLowerCase())}))}searchFAQ(e){const t=document.querySelectorAll(".faq-item"),n=document.querySelectorAll(".faq__section");let o=!1;e?(n.forEach((t=>{const n=t.querySelectorAll(".faq-item");let r=!1;if(n.forEach((t=>{const n=t.querySelector(".faq-item__question h3").textContent.toLowerCase(),a=t.querySelector(".faq-item__answer p").textContent.toLowerCase();n.includes(e)||a.includes(e)?(t.style.display="block",this.highlightSearchTerm(t,e),r=!0,o=!0):(t.style.display="none",this.clearHighlights(t))})),r){t.classList.add("faq__section--active");const e=document.querySelector(`[data-category="${t.id}"]`);e&&(document.querySelectorAll(".faq__category").forEach((e=>e.classList.remove("faq__category--active"))),e.classList.add("faq__category--active"))}})),this.toggleNoResultsMessage(!o,e)):t.forEach((e=>{e.style.display="block",this.clearHighlights(e)}))}highlightSearchTerm(e,t){this.clearHighlights(e);e.querySelectorAll(".faq-item__question h3, .faq-item__answer p").forEach((e=>{const n=e.textContent,o=new RegExp(`(${this.escapeRegExp(t)})`,"gi"),r=n.replace(o,'<mark class="search-highlight">$1</mark>');e.innerHTML=r}))}clearHighlights(e){e.querySelectorAll(".search-highlight").forEach((e=>{const t=e.parentNode;t.replaceChild(document.createTextNode(e.textContent),e),t.normalize()}))}toggleNoResultsMessage(e,t){let n=document.querySelector(".no-results-message");if(e&&!n){n=document.createElement("div"),n.className="no-results-message",n.innerHTML=`\n                <div class="no-results-content">\n                    <h3>No results found for "${t}"</h3>\n                    <p>Try adjusting your search terms or browse our FAQ categories.</p>\n                    <button class="btn btn--secondary" onclick="this.parentElement.parentElement.remove(); document.querySelector('.search-box__input').value = ''; window.tronWatchApp.searchFAQ('');">\n                        Clear Search\n                    </button>\n                </div>\n            `;document.querySelector(".faq__content").appendChild(n)}else!e&&n&&n.remove()}setupContactForm(){const e=document.getElementById("contactForm");if(e){e.addEventListener("submit",(t=>{t.preventDefault(),this.validateContactForm(e)&&this.submitContactForm(e)}));e.querySelectorAll("input, select, textarea").forEach((e=>{e.addEventListener("blur",(()=>{this.validateContactField(e)})),e.addEventListener("input",(()=>{this.clearFieldError(e)}))}))}}validateContactForm(e){let t=!0;["name","email","category","subject","message"].forEach((n=>{const o=e.querySelector(`[name="${n}"]`);this.validateContactField(o)||(t=!1)}));const n=e.querySelector('input[type="checkbox"]');return n.checked||(this.showFieldError(n.parentElement,"You must agree to the terms"),t=!1),t}validateContactField(e){const t=e.value.trim();let n=!0,o="";return this.clearFieldError(e),e.hasAttribute("required")&&!t&&(o="This field is required",n=!1),"email"===e.type&&t&&!this.isValidEmail(t)&&(o="Please enter a valid email address",n=!1),"name"===e.name&&t&&t.length<2&&(o="Name must be at least 2 characters long",n=!1),"subject"===e.name&&t&&t.length<5&&(o="Subject must be at least 5 characters long",n=!1),"message"===e.name&&t&&t.length<10&&(o="Message must be at least 10 characters long",n=!1),n||this.showFieldError(e,o),n}async submitContactForm(e){const t=e.querySelector('button[type="submit"]'),n=t.textContent;t.textContent="Sending...",t.disabled=!0;try{await this.simulateFormSubmission(new FormData(e)),this.showFormSuccess(),e.reset()}catch(e){console.error("Form submission error:",e),this.showFormError("There was an error sending your message. Please try again.")}finally{t.textContent=n,t.disabled=!1}}simulateFormSubmission(e){return new Promise((t=>{setTimeout((()=>{console.log("Form data:",Object.fromEntries(e)),t()}),1500)}))}showFormSuccess(){const e=document.querySelector(".form-success-overlay");e&&e.remove();const t=document.createElement("div");t.className="form-success-overlay",t.innerHTML='\n            <div class="form-success-message">\n                <div class="success-content">\n                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none">\n                        <circle cx="24" cy="24" r="20" fill="var(--color-success)"/>\n                        <path d="M16 24L20 28L32 16" stroke="white" stroke-width="3" stroke-linecap="round"/>\n                    </svg>\n                    <h3>Message Sent Successfully!</h3>\n                    <p>Thank you for contacting us. We\'ll get back to you within 24 hours.</p>\n                    <button class="btn btn--secondary" onclick="this.closest(\'.form-success-overlay\').remove()">Close</button>\n                </div>\n            </div>\n        ',document.body.appendChild(t),setTimeout((()=>{t.parentElement&&t.remove()}),1e4)}showFormError(e){const t=document.createElement("div");t.className="form-error-message",t.textContent=e;const n=document.getElementById("contactForm");n.parentElement.insertBefore(t,n),setTimeout((()=>{t.remove()}),5e3)}initializeDocumentation(){this.setupDocumentationNavigation(),this.setupDocSearchFunctionality(),this.setupCodeCopyButtons()}setupDocumentationNavigation(){const e=document.querySelectorAll(".doc-nav__item"),t=document.querySelectorAll(".doc-section");e.forEach((n=>{n.addEventListener("click",(()=>{const o=n.getAttribute("data-section");e.forEach((e=>e.classList.remove("doc-nav__item--active"))),t.forEach((e=>e.classList.remove("doc-section--active"))),n.classList.add("doc-nav__item--active");const r=document.getElementById(o);r&&r.classList.add("doc-section--active"),history.replaceState&&history.replaceState(null,null,`#${o}`)}))})),this.handleInitialHash(),window.addEventListener("hashchange",(()=>{this.handleInitialHash()}))}handleInitialHash(){const e=window.location.hash.substring(1);if(e){const t=document.querySelector(`[data-section="${e}"]`);if(t){const e=t.getAttribute("data-section");document.querySelectorAll(".doc-nav__item").forEach((e=>e.classList.remove("doc-nav__item--active"))),document.querySelectorAll(".doc-section").forEach((e=>e.classList.remove("doc-section--active"))),t.classList.add("doc-nav__item--active");const n=document.getElementById(e);n&&n.classList.add("doc-section--active")}}}setupDocSearchFunctionality(){const e=document.querySelector(".search-box__input"),t=document.querySelectorAll(".doc-section");e&&e.addEventListener("input",this.debounce((e=>{const n=e.target.value.toLowerCase();this.searchDocumentation(n,t)}),300))}searchDocumentation(e,t){e?t.forEach((t=>{const n=t.querySelectorAll(".doc-article");let o=!1;n.forEach((t=>{t.textContent.toLowerCase().includes(e)?(t.style.display="block",this.highlightSearchTermInDoc(t,e),o=!0):(t.style.display="none",this.clearHighlights(t))})),o&&t.classList.contains("doc-section--active")})):t.forEach((e=>{e.querySelectorAll(".doc-article").forEach((e=>{e.style.display="block",this.clearHighlights(e)}))}))}highlightSearchTermInDoc(e,t){this.clearHighlights(e);const n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),o=[];let r;for(;r=n.nextNode();)r.textContent.toLowerCase().includes(t)&&o.push(r);o.forEach((e=>{const n=e.parentNode,o=e.textContent,r=new RegExp(`(${this.escapeRegExp(t)})`,"gi"),a=o.replace(r,'<mark class="search-highlight">$1</mark>'),s=document.createElement("div");for(s.innerHTML=a;s.firstChild;)n.insertBefore(s.firstChild,e);n.removeChild(e)}))}setupCodeCopyButtons(){document.querySelectorAll(".code-block").forEach((e=>{if(e.querySelector(".code-copy-btn"))return;const t=document.createElement("button");t.className="code-copy-btn",t.innerHTML='\n                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">\n                    <rect x="2" y="2" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                    <rect x="6" y="6" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                </svg>\n                Copy\n            ',t.addEventListener("click",(()=>{const n=e.querySelector("pre");if(!n)return;const o=n.textContent;this.copyToClipboard(o,t)})),e.style.position="relative",e.appendChild(t)}));document.querySelectorAll(".api-endpoint").forEach((e=>{if(e.querySelector(".code-copy-btn"))return;const t=e.querySelector(".api-endpoint__path");if(!t)return;const n=document.createElement("button");n.className="code-copy-btn code-copy-btn--small",n.innerHTML='\n                <svg width="12" height="12" viewBox="0 0 16 16" fill="none">\n                    <rect x="2" y="2" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                    <rect x="6" y="6" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                </svg>\n            ',n.addEventListener("click",(()=>{const e=t.textContent;this.copyToClipboard(e,n)})),e.style.position="relative",e.appendChild(n)}));document.querySelectorAll(".code-example").forEach((e=>{if(e.querySelector(".code-copy-btn"))return;const t=e.querySelector("pre");if(!t)return;const n=document.createElement("button");n.className="code-copy-btn",n.innerHTML='\n                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">\n                    <rect x="2" y="2" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                    <rect x="6" y="6" width="8" height="8" rx="1" stroke="currentColor" fill="none"/>\n                </svg>\n                Copy\n            ',n.addEventListener("click",(()=>{const e=t.textContent;this.copyToClipboard(e,n)})),e.style.position="relative",e.appendChild(n)}))}async copyToClipboard(e,t){try{if(navigator.clipboard)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}const n=t.innerHTML;t.innerHTML='\n                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">\n                    <path d="M13.5 4.5L6 12L2.5 8.5" stroke="currentColor" stroke-width="2" fill="none"/>\n                </svg>\n                Copied!\n            ',t.classList.add("code-copy-btn--success"),setTimeout((()=>{t.innerHTML=n,t.classList.remove("code-copy-btn--success")}),2e3)}catch(e){console.error("Failed to copy text: ",e);const n=t.innerHTML;t.innerHTML='\n                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">\n                    <path d="M8 1L15 15H1L8 1Z" stroke="currentColor" stroke-width="2" fill="none"/>\n                    <path d="M8 6V10" stroke="currentColor" stroke-width="2"/>\n                    <circle cx="8" cy="13" r="1" fill="currentColor"/>\n                </svg>\n                Error\n            ',t.classList.add("code-copy-btn--error"),setTimeout((()=>{t.innerHTML=n,t.classList.remove("code-copy-btn--error")}),2e3)}}debounce(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...o)}),t)}}throttle(e,t){let n;return function(){const o=arguments,r=this;n||(e.apply(r,o),n=!0,setTimeout((()=>n=!1),t))}}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}const n=document.createElement("style");n.textContent="\n    .form__input--error {\n        border-color: var(--color-error) !important;\n    }\n    \n    .form__error {\n        color: var(--color-error);\n        font-size: var(--font-size-sm);\n        margin-top: var(--spacing-xs);\n    }\n    \n    .ripple {\n        position: absolute;\n        border-radius: 50%;\n        background: rgba(255, 255, 255, 0.3);\n        animation: ripple-animation 0.6s linear;\n        pointer-events: none;\n    }\n    \n    @keyframes ripple-animation {\n        0% {\n            width: 0;\n            height: 0;\n            opacity: 1;\n        }\n        100% {\n            width: 40px;\n            height: 40px;\n            opacity: 0;\n        }\n    }\n    \n    .nav__toggle--active span:nth-child(1) {\n        transform: translateY(6px) rotate(45deg);\n    }\n    \n    .nav__toggle--active span:nth-child(2) {\n        opacity: 0;\n    }\n    \n    .nav__toggle--active span:nth-child(3) {\n        transform: translateY(-6px) rotate(-45deg);\n    }\n\n    .search-highlight {\n        background-color: var(--color-warning);\n        color: var(--color-bg-primary);\n        padding: 0 2px;\n        border-radius: 2px;\n    }\n    \n    .no-results-message {\n        text-align: center;\n        padding: var(--spacing-3xl);\n        background-color: var(--color-bg-secondary);\n        border-radius: var(--radius-lg);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        margin-top: var(--spacing-xl);\n    }\n    \n    .no-results-content h3 {\n        color: var(--color-text-primary);\n        margin-bottom: var(--spacing-md);\n    }\n    \n    .no-results-content p {\n        color: var(--color-text-secondary);\n        margin-bottom: var(--spacing-lg);\n    }\n    \n    .form-success-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.8);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: var(--z-modal);\n        backdrop-filter: blur(4px);\n    }\n    \n    .form-success-message {\n        background-color: var(--color-bg-primary);\n        border: 1px solid var(--color-success);\n        border-radius: var(--radius-lg);\n        padding: var(--spacing-xl);\n        max-width: 400px;\n        width: 90%;\n        text-align: center;\n        box-shadow: var(--shadow-xl);\n    }\n    \n    .success-content {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: var(--spacing-md);\n    }\n    \n    .success-content h3 {\n        color: var(--color-success);\n        margin: 0;\n    }\n    \n    .success-content p {\n        color: var(--color-text-secondary);\n        margin: 0;\n    }\n    \n    .form-error-message {\n        background-color: rgba(231, 76, 60, 0.1);\n        border: 1px solid var(--color-error);\n        color: var(--color-error);\n        padding: var(--spacing-md);\n        border-radius: var(--radius-md);\n        margin-bottom: var(--spacing-lg);\n        text-align: center;\n    }\n\n    .code-copy-btn {\n        position: absolute;\n        top: var(--spacing-sm);\n        right: var(--spacing-sm);\n        background-color: var(--color-bg-secondary);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        color: var(--color-text-secondary);\n        padding: var(--spacing-xs) var(--spacing-sm);\n        border-radius: var(--radius-sm);\n        font-size: var(--font-size-xs);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: var(--spacing-xs);\n        transition: all var(--transition-fast);\n    }\n    \n    .code-copy-btn:hover {\n        background-color: var(--color-bg-tertiary);\n        color: var(--color-text-primary);\n    }\n    \n    .code-copy-btn--success {\n        background-color: var(--color-success);\n        color: white;\n        border-color: var(--color-success);\n    }\n",document.head.appendChild(n),document.addEventListener("DOMContentLoaded",(()=>{window.tronWatchApp=new t})),window.TronWatchApp=t,window.FLS=!1})();